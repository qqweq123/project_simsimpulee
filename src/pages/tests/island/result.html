<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬´ì¸ë„ ìƒì¡´ìœ í˜• ê²°ê³¼ - Mellow Wave</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/src/assets/styles/main.css">
    <style>
        .blur-content {
            filter: blur(8px);
            user-select: none;
            pointer-events: none;
        }

        .lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(4px);
            z-index: 10;
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .compass-spin {
            animation: compassSpin 6s ease-in-out infinite;
        }

        @keyframes compassSpin {

            0%,
            100% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(15deg);
            }

            75% {
                transform: rotate(-15deg);
            }
        }
    </style>
</head>

<body class="bg-[#FFFDF5] min-h-screen flex flex-col items-center py-8"
    style="background-image: url('/images/island/bg_island_texture.png'); background-size: 300px;">

    <div class="max-w-md w-full px-4 relative z-0">
        <h1 class="font-gaegu text-4xl font-bold text-center mb-6 text-emerald-600 drop-shadow-sm tracking-widest">
            ğŸï¸ ë‚˜ì˜ ë¬´ì¸ë„ ìƒì¡´ ìœ í˜• ğŸ¥¥
        </h1>

        <!-- ê²°ê³¼ ì¹´ë“œ -->
        <div id="result-card"
            class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl overflow-hidden relative fade-in border-4 border-emerald-100">

            <!-- ìƒë‹¨ ê·¸ë¼ë°ì´ì…˜ ë°” -->
            <div id="gradient-bar" class="h-2 bg-gradient-to-r from-emerald-400 to-teal-500 w-full"></div>

            <!-- ì ê¸ˆ í™”ë©´ -->
            <div id="lock-overlay" class="lock-overlay">
                <div class="text-center p-6 bg-white/95 rounded-2xl shadow-2xl border border-emerald-200 max-w-[280px]">
                    <span class="text-4xl mb-2 block compass-spin">ğŸ§­</span>
                    <h3 class="text-xl font-bold mb-2">ìƒì¡´ ë¶„ì„ ì™„ë£Œ!</h3>
                    <p class="text-sm text-gray-500 mb-4">ë‹¹ì‹ ì˜ ìƒì¡´ ìœ í˜•ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
                    <button onclick="unlockResult()"
                        class="btn-press w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:shadow-xl transition-all mb-3 animate-pulse">
                        ë¬´ë£Œë¡œ ê²°ê³¼ í™•ì¸í•˜ê¸° ğŸï¸
                    </button>
                    <button
                        class="w-full bg-gray-200 text-gray-500 font-bold py-3 px-6 rounded-full text-sm cursor-not-allowed"
                        disabled>
                        í”„ë¦¬ë¯¸ì—„ ì •ë°€ ë¶„ì„ (ì¤€ë¹„ì¤‘)
                    </button>
                </div>
            </div>

            <!-- ì‹¤ì œ ê²°ê³¼ ë‚´ìš© -->
            <div id="result-content" class="blur-content p-8 text-center transition-all duration-700">

                <!-- ì´ë¯¸ì§€ & ìœ í˜•ëª… -->
                <div class="mb-6 relative">
                    <div
                        class="w-48 h-48 mx-auto mb-4 bg-emerald-50 rounded-full flex items-center justify-center overflow-hidden border-4 border-white shadow-lg relative">
                        <!-- ì´ë¯¸ì§€ ë¡œë”© ì „ ìŠ¤ì¼ˆë ˆí†¤ -->
                        <div class="absolute inset-0 bg-gray-200 animate-pulse skeleton-loader"></div>
                        <img id="result-image" src="" alt="Result Character"
                            class="w-full h-full object-cover z-10 transition-transform hover:scale-110 duration-500"
                            onload="this.previousElementSibling.style.display='none'">
                    </div>


                    <h2 id="result-title"
                        class="text-3xl font-bold text-gray-800 mb-1 break-keep font-gaegu tracking-wide mt-4"></h2>
                    <h3 id="result-subtitle" class="text-base text-emerald-600 font-bold mb-2 font-noto"></h3>
                </div>

                <!-- íƒœê·¸ -->
                <div class="flex justify-center flex-wrap gap-2 mb-6" id="result-tags"></div>

                <!-- ëŠ¥ë ¥ì¹˜ ê·¸ë˜í”„ -->
                <div class="bg-white/80 rounded-2xl p-5 mb-6 shadow-sm border border-emerald-100">
                    <h4 class="text-sm font-bold text-gray-600 mb-4 text-left">ğŸ“Š ìƒì¡´ ëŠ¥ë ¥ì¹˜ ë¶„ì„</h4>
                    <div id="ability-bars">
                        <!-- ëŠ¥ë ¥ì¹˜ ë°”ë“¤ì´ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì„¤ëª… -->
                <p id="result-desc"
                    class="text-gray-600 text-sm leading-7 mb-8 text-left bg-white/80 p-6 rounded-xl min-h-[100px] whitespace-pre-line border border-emerald-100 shadow-sm">
                </p>

                <!-- ê³µìœ  -->
                <div class="border-t border-emerald-100 pt-6">
                    <h4 class="font-bold mb-4 text-sm text-gray-600">ğŸï¸ ì¹œêµ¬ì˜ ìƒì¡´ ìœ í˜•ë„ ê¶ê¸ˆí•˜ë‹¤ë©´?</h4>
                    <div class="flex justify-center gap-4">
                        <button class="p-3 bg-yellow-300 rounded-full hover:scale-110 transition shadow-sm btn-press">ğŸŸ¡
                            ì¹´ì¹´ì˜¤</button>
                        <button
                            class="p-3 bg-blue-500 text-white rounded-full hover:scale-110 transition shadow-sm btn-press">ğŸ”µ
                            í˜ì´ìŠ¤ë¶</button>
                        <button onclick="copyLink()"
                            class="p-3 bg-gray-200 rounded-full hover:scale-110 transition shadow-sm btn-press">ğŸ”—
                            ë§í¬</button>
                    </div>
                </div>

                <!-- ê´‘ê³  -->
                <div
                    class="mt-8 h-20 bg-white/50 rounded-lg flex items-center justify-center text-gray-400 text-xs border border-emerald-100">
                    Advertisement Area
                </div>
            </div>
        </div>

        <!-- í•˜ë‹¨ ë²„íŠ¼ -->
        <div class="mt-8 text-center space-y-4">
            <a href="/index.html"
                class="btn-press block w-full bg-white border border-emerald-300 text-emerald-600 font-bold py-3 rounded-xl hover:bg-emerald-50 transition shadow-sm">
                ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ ê°€ê¸° ğŸ¨
            </a>
            <a href="/index.html" class="inline-block text-gray-400 underline text-sm hover:text-gray-600">
                ë©”ì¸ í™ˆìœ¼ë¡œ ì´ë™
            </a>
        </div>
    </div>

    <script type="module">
        import { initIslandResult } from '@/features/tests/island/result.js';
        initIslandResult();
    </script>
</body>

</html>