/* Mellow Wave 이미지 후처리 CSS 
   AI 이미지가 웹사이트와 겉돌지 않게 만드는 마법의 필터
*/

/* 1. 부드러운 톤 보정 */
.mellow-img {
    /* 채도를 약간 낮춰서 파스텔톤 배경과 어울리게 함 */
    filter: saturate(90%) contrast(105%) brightness(102%);
    /* 둥글둥글한 느낌을 위해 모서리 처리 */
    border-radius: 1.5rem;
    /* 24px */
    /* 이미지가 배경에서 살짝 뜬 느낌 (입체감) */
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* 2. 호버 시 반응 */
.mellow-img:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.2);
}

/* 3. 배경 프레임 (이미지 뒤에 깔리는 구름 모양) */
.mellow-frame {
    background: radial-gradient(circle at 50% 50%, #ffffff 0%, #fffdf5 100%);
    border: 4px solid #ffffff;
    border-radius: 2rem;
    overflow: hidden;
    position: relative;
}

/* 4. 워터마크 스타일 (바이럴용) */
.watermark {
    position: absolute;
    bottom: 10px;
    right: 15px;
    font-family: 'Gaegu', cursive;
    color: rgba(0, 0, 0, 0.3);
    font-size: 0.8rem;
    pointer-events: none;
}

/* 전문가 제언: 이미지 스택 로직에서 가장 중요한 것은 
  여러 레이어가 한 장처럼 겹쳐지는 구조(Stacking Context)입니다.
*/

.image-stack-container {
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1;
    /* 정사각형 유지 */
    background: #fff;
    border-radius: 1.5rem;
    overflow: hidden;
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}

/* 겹쳐지는 이미지들 */
.stack-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.8s ease-out;
}

/* 이미지가 로드되거나 생성된 후 'show' 클래스를 붙일 때 */
.stack-layer.show {
    opacity: 1;
}

/* 베이스 레이어 (가장 밑바닥) */
.layer-base {
    z-index: 1;
}

/* AI 생성 디저트 레이어 (중간) */
.layer-dessert {
    z-index: 2;
}

/* 효과/텍스트 오버레이 (최상단) */
.layer-overlay {
    z-index: 3;
}

/* AI 생성 로딩 중 반짝이는 효과 (Skeleton Screen) */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.loading-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

/* 결과 나타날 때 부드럽게 떠오르는 효과 */
.reveal-up {
    animation: revealUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes revealUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}